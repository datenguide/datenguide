---
title: 'Datenguide | REST-Schnittstelle | Abfrage der REST-Schnittstelle'
layout: DocsPage
---

# Datenabfrage √ºber die REST

Wer Daten nicht h√§ndisch √ºber unser [Datenportal](https://datengui.de/statistiken) herunterladen m√∂chte, kann die Datens√§tze mit Hilfe unserer
experimentellen REST-Schnittstelle abfragen. Daf√ºr kannst du die Adresszeile deines Browsers oder eine beliebige Programmiersprache verwendet werden.

## Die URL-Struktur f√ºr die Abfrage REST-Schnittstelle

Wenn du bereits Erfahrung mit dem Abfragen von APIs hat, kannst du diesen Abschnitt √ºberspringen und direkt bei der [URL-Struktur der Abfragen](#url-struktur) weiterlesen.

Hier sind einige Beispiele f√ºr die Anfrage per REST-URL:

- https://tabular.genesapi.org/?data=12612:BEV001
- https://tabular.genesapi.org/?data=12612:BEV001&level=2
- https://tabular.genesapi.org/?data=12612:BEV001&level=2&time=2008:

F√ºr die Abfrage der REST-Schnittstelle sind keine Programmierkenntnisse notwendig. Jede dieser Adressen
(URLs) ist anklickbar und stellt bereits eine Anfrage an die REST-Schnittstelle von Datenguide dar.
Der Browser gen√ºgt als "Werkzeug", um mit der Schnittstelle zu kommunizieren und Daten abzufragen.

Die unterschiedliche L√§nge der Anfragen sich durch das Anf√ºgen unterschiedlicher Anh√§nge, sogenannter Parameter.
Damit die Anfrage funktioniert, m√ºssen also alle notwendigen Informationen in die URL untergebracht werden.
Dabei sind einige Bestandteile notwendig f√ºr die Abfrage, andere optional.

Man kann sich die URL-Abfrage wie einen G√ºterzug vorstellen.

üöÇ

Die URL selbst stellt den Triebwagen dar, die Parameter, die daran angeh√§ngt werden, die Waggons. Wie der Zug
G√ºter, liefert die URL der REST-Schnittstelle Informationen √ºber die Art der Anfrage.
Je l√§nger der "Zug", bzw. die URL, desto mehr Anhaltspunkte werden der
der Schnittstelle geliefert und desto spezifischer ist das Ergebnis, der Datensatz.

üöÇüöÉüöÉüöÉ

Wie man die Parameter aneinander f√ºgt, bzw. die einzelnen Waggons aneinander
h√§ngt, spielt keine Rolle f√ºr das Funktionieren der Abfrage.
Wichtig ist allerdings wie bei den Waggons eines G√ºterzugs, die Parameter miteinander zu verkn√ºpfen.
Zwischen den einzelnen URL-Parametern sorgt das `&`-Symbol daf√ºr, dass die REST-Schnittstelle die Anfrage als
zusammengeh√∂rigen Zeichenstrang interpretiert.

`?data=12612:BEV001&level=2&time=2008:`

Der √úbersicht wegen werden wir im Folgenden trotzdem eine bestimmte Reihenfolge der
Parameter einhalten, die dem schnellstm√∂glichen Verst√§ndnis des Abfrage-Aufbaus dient.

## URL-Struktur

Die URL-Struktur jeder Abfrage setzt sich aus unterschiedlichen Bestandteilen zusammen, von denen die meisten optional sind:

##### [HIER EINGEF√ÑRBTE URL MIT ALLEN PARAMETERN??

1. Die Basis-URL https://tabular.genesapi.org (notwendig)
2. Die Angabe des gesuchten Datensatzes mit `data=` (notwendig)
3. Die Abfrage des gew√ºnschten Gebiets mit `level=` und `region=` (optional)
4. Die Abfrage des Zeitraums mit `time=` (optional)
5. Weiteren m√∂glichen Parametern wie Layout, Beschriftungen und Download-Format (optional)

S√§mtliche an die REST-Schnittstelle gesendeten Abfragen folgen diesem Aufbau. Sehen wir uns weiter die
Bestandteile der URL einmal genauer an.

### 1. Die Basis-URL (notwendig)

https://tabular.genesapi.org/

Die Anfrage an die REST-Schnittstelle geschieht √ºber die URL-Anfrage an die Adresse https://tabular.genesapi.org/.
Ohne das Hinzuf√ºgen weiterer Parameter wird die Seite zwar aufgerufen, liefert aber keinen Datensatz zur√ºck.

### 2. Die Angabe des gesuchten Datensatzes `?data=` (notwendig)

Die Angabe des Datensatzes `?data=` ist der wichtigste Parameter der Abfrage, denn nur durch die Angabe des
Datensatzes "wei√ü" die REST-Schnittstelle, welche spezifischen Daten abgefragt werden sollen. Leicht zu √ºbersehen
und dennoch notwendig f√ºr die Abfrage ist das hinter die Basis-URL gesetzte Fragezeichen `?`, das die REST-Schnittstelle
wissen l√§sst, dass nun ein Datenabfrage (ein sogenannter request) erfolgen soll:

https://tabular.genesapi.org/?data=12612:BEV001

Wie in diesem Beispiel zu sehen, f√ºgen wir den Namen des Datensatzes gleich hinter dem `data=`-Parameter an. Wie
in vielen Programmiersprachen steht das Gleichheitszeichen nicht f√ºr eine Gleichsetzung, sondern f√ºr eine
Zuweisung. Anders gesagt, um der Schnittzustelle mitzuteilen, welcher Datensatz aufgerufen werden soll, weisen
wir dem Parameter `?data` den Beispiel-Datensatz `11111:FLC006` √ºber das Gleichheitzeichen zu: `data=11111:FLC006`.

In der Datenbank steht `12612:BEV001` beispielsweise f√ºr den Datensatz "Lebend Geborene", der wiederum zur Oberkategorie
"12612" (Statistik der Geburten) geh√∂rt. Die "Codes" der zur Verf√ºgung stehenden Datens√§tze und Kategorien mit ihren leider nicht
so eing√§ngig wie erhofft, lassen sich jedoch einfach √ºber unser Tool https://datengui.de/statistik-erklaert/dimensions
√ºber eine Suchmaske einfach nachschlagen.

### 3. Die Abfrage des gew√ºnschten Gebiets `region=` (optional)

Mit der reinen Angabe des Datensatzes ist die Anfrage bereits erfolgreich, alle weiteren Angaben sind
optional, erweitern oder verfeinern aber das Datensatz-Ergebnis. Der Parameter `region=` legt fest, √ºber welches
Gebiet wir Daten abfragen m√∂chten. Ausgew√§hlt werden k√∂nnen folgende Gebiete:

- 0 - Deutschland gesamt
- 1 - Bundesl√§nder
- 2 - Regierungsbezirke / stat. Regionen
- 3 - Landkreise und kreisfreie St√§dte
- 4 - Gemeinden

Um regionale Statistiken √ºber Grenzen hinweg vergleichbar zu machen, wird in Europa bei der Gebietseinteilung
ein System namens NUTS "(Nomenclature des unit√©s territoriales statistiques") verwendet. Mehr Informationen √ºber
einschl√§gige Begriffe wie regionale Tiefe, NUTS oder LAU gibt es auf der Seite https://datengui.de/statistik-erklaert/nuts.

Am bereits vorgestellten Beispiel der Lebend Geborenen Kinder k√∂nnen wir die Region einschr√§nken, wenn wir
hinter den `data=` ein Fragezeichen `?` als Trenner zwischen Daten und Region setzen und dann den Parameter
`level=` mit der entsprechende Zahl anf√ºgen, zum Beispiel `1` f√ºr Deutschland gesamt.:

https://tabular.genesapi.org/?data=12612:BEV001&level=0

#### Unterschiedliche Parameter f√ºr die Abfrage von Landkreisen und kreisfreien St√§dten

Fragen wir, wie in oberen Beispiel, die Zahlen der Lebend Geborenden f√ºr ganz Deutschland mit `0` oder aber die
Bundesl√§nder mit `1` ab, ist die URL noch relativ kurz und √ºbersichtlich. Ein wenig komplizierter wird es,
wenn man den Landkreis mit abfragen m√∂chte. Hier unterscheidet man zwischen dem Filter vom Landkreisen mit
`level=3&parent=` und der Auswahl eines einzigen Landkreis mit `region=`. Welcher
Kreisschl√ºssel welcher Region zugeordnet ist, kann √ºber https://de.wikipedia.org/wiki/Liste_der_Landkreise_in_Deutschland
recherchiert werden.

#### Das Filtern von Landkreisen und kreisfreien St√§dte

M√∂chte man nicht nur einzelne Regionen ausw√§hlen, sondern nach den ersten drei Stellen des Kreisschl√ºssels eine
gr√∂√üere Auswahl von Regionen filtern, nutzt man am besten den Parameter `level=3&parent=` und f√ºgt mindestens
die ersten zwei Ziffern des Kreissch√ºssels des Filters hinzu. In diesem Beispiel werden alle Regionen abgerufen,
deren Kreisschl√ºssel mit den Ziffern `01` beginnt:

https://tabular.genesapi.org/?data=12612:BEV001&level=3&parent=01

#### Einzelne Regionen direkt ausw√§hlen

M√∂chte man Daten √ºber einen einzelne Region abrufen, gelingt das mit dem Parameter
`region=` und dem Anf√ºgen des sogenannten Kreisschl√ºssels f√ºr den entsprechenden Landkreis oder die Stadt. Da f√ºr den
Datenabruf nur die Landkreise entscheidend sind, kann der Parameter `level=` in der URL weggelassen werden:

https://tabular.genesapi.org/?data=12612:BEV001&region=01051

### 4. Die Abfrage des Zeitraums mit `time=` (optional)

Neben den Daten √ºber bestimmte Gebiete interessiert uns nat√ºrlich auch der Zeitraum, wann die Daten erhoben
wurden. Mithilfe des Parameters `time=` lassen sich Abfrage-Zeitr√§ume bestimmen, eingrenzen und ausw√§hlen.
Wird keine Zeitangabe gemacht, geht die REST-Schnittstelle davon aus, dass wir den gesamten Abfragezeitraum
abrufen m√∂chten. Wie beim Anh√§ngen aller vorherigen Parameter darf auch hier das `&` nicht vergessen werden.

`time=YEAR:YEAR` ruft einen Zeitraum zwischen Start und Endjahr auf. Ein Beispiel:

https://tabular.genesapi.org/?data=12612:BEV001&region=01051&time=2000:2010

`time=:YEAR` ruft s√§mtliche Jahre bis inklusive des ausgew√§hlten Jahres auf:

https://tabular.genesapi.org/?data=12612:BEV001&region=01051&time=:2010

`time=YEAR:` ruft s√§mtliche Jahre ab dem ausgew√§hlten Jahre auf (inklusive des Startjahres):

https://tabular.genesapi.org/?data=12612:BEV001&region=01051&time=2010:

`time=YEAR,YEAR` ruft mehrere Jahre auf:

https://tabular.genesapi.org/?data=12612:BEV001&region=01051&time=2000,2005,2010,2015

5. Weiteren m√∂glichen URL-Bestandteilen wie spezifische Datenauswahl, Layout, Beschriftungen,
   und Download-Format (optional)

Layout:

- `layout=long` Es wird eine Zeile pro Wert dargestellt (default)
- `layout=time` Es wird eine Zeile pro Jahr/Datum angezeigt
- `layout=region` Es wird Eine Zeile pro Region dargestellt

Beschriftungen:

- `labels=id` Statt der vollen Bezeichnung werden nur K√ºrzel ("ids") angezeigt (default)
- `labels=name` Ausgeschriebene Bezeichnungen bei der Ausgabe anzeigen

Format:

- `format=csv` Datensatz im CSV-Format ausgeben (default)
- `format=tsv` Daten im TSV-Format ausgeben (tabulatorgetrennt)
- `format=json` Daten im JSON-Format ausgeben (Ein Objekt pro Tabellenzeile plus Tabellen-Metadaten)
- `delimiter=,` Als erwartetes Trennzeichen wird ein Komma `,` vernwedet (default), alternativ w√§re ein Semikolon `;`

Datumsformat:

- `dformat=year` - Das Datumsformat wird in Jahren dargestellt (default)
- `dformat=date` - Das Datumsformat wird in Tagen dargestellt

Viele Beispiele f√ºr m√∂gliche Abfragen findet ihr auf [INTERNER_LINK]. Wenn du dauerhaft erreichbare Links
erstellen willst, haben wir auf dieser Seite [INTERNER_LINK] ein Anleitung verfasst. Wir haben au√üerdem
[Beispiele f√ºr Python](verwendung-mit-python) und [JavaScript](verwendung-mit-javascript) zusammengestellt.
