---
title: 'Datenguide | REST-Schnittstelle | Verwendung mit Python'
layout: DocsPage
---

# Verwendung mit Python

Im folgenden findest du den Code, um die REST-Schnittstelle mit Python abzufragen. Eine Schritt-für-Schritt
Anleitung wie die URL für die Abfrage der Schnittstelle aufgebaut sein muss, findest du auf [INTERNERT_LINK].
##Abfrage der REST-Schnittstelle##

Um die Daten zu verarbeiten, nutzen wir die Pandas-Bibliothek.

## Daten in einen Dataframe laden

```python
import pandas as pd
import requests
from io import StringIO

BASE_URL = 'localhost:5000' # 'https://tabular.genesapi.org'

def get_df(query):
    url = '%s/%s' % (BASE_URL, query)
    print(url)
    res = requests.get(url)
    csv = StringIO(res.text)
    df = pd.read_csv(csv, dtype={
        'region_id': str,
        'year': str
    })
    df.index = df[df.columns[0]]
    del df[df.columns[0]]
    return df.fillna('')
```

JSON
format=json

Gibt die Daten (key: data) als json (response mimetype: application/json) zurück samt metadaten (key: schema) zur Tabellenstruktur.

```python
import json  # for pretty printing
url = BASE_URL + '?data=11111:FLC006&time=2017&layout=region&format=json'
print(url)
data = requests.get(url)
print(json.dumps(data.json(), indent=2))
```
