---
title: 'In zwei Schritten zur ersten Visualisierung'
description: 'Wir zeigen dir, wie man Daten aus der amtlichen Statistik auf eine Karte bringt.'
metaImage: '/statistik-erklaert/tables.png'
previewImage: '/statistik-erklaert/tables.png'
date: 2020-08-21
layout: Minimal
published: false
lang: de
category:
  name: 'Statistik erklärt'
  href: '/statistik-erklaert'
authors:
  - p3nny
  - crijke
---

import Grid from '@material-ui/core/Grid'
import Container from '@material-ui/core/Container'
import BlogHeader from '../../components/BlogHeader'
import { BodyText, BodyTextAside } from '../../components/BodyText'
import DatawrapperChart from '../../components/DatawrapperChart.js'
import { frontMatter } from './tables.mdx'
import ArrowLink from '../../components/ArrowLink'

<BlogHeader {...frontMatter}>
  <img src={require('./tables/header.svg')} />
</BlogHeader>

<Container maxWidth="lg">
  <BodyText>

## Zähme die Tabellen des Grauens mit Datenguide

Auf dem Weg zur ersten Datenvisualisierung liegen einige Hürden: Amtliche Daten müssen oft bearbeitet werden, damit du sie in Visualisierungstools wie zum Beispiel Datawrapper benutzen kannst. Wir zeigen dir, wie man Daten aus der amtlichen Statistik auf eine Karte bringt. Diese Technik kannst du auch für jede andere Visualisierung verwenden, in der verschiedene Regionen verglichen werden.

Amtliche Daten können journalistischen Berichten mehr Tiefe geben. Statt Einzelfälle und Zitate aneinanderzureihen, bieten Daten die Möglichkeit, ein größeres Bild sichtbar zu machen.

<div
  style={{
    borderRadius: '5px',
    background: '#f5f5f5',
    padding: '1em 1.5em',
    margin: '1em 0',
  }}
>
  <p>
    <strong>Achtung: </strong>
    Dieser Artikel stammt aus dem Jahr 2020 und bezieht sich auf Software, die nicht
    mehr zur Verfügung steht. Statt des (abgeschalteten) Datenportals kannst du die
    offizielle Datenschnittstelle der Regionaldatenbank verwenden.
  </p>
  <a href="/statistik-erklaert/genesis">
    So nutzt du die Datenschnittstelle der Regionaldatenbank
  </a>
</div>

<BodyTextAside>

#### Beispiel Bauland

Auf dieser interaktiven Karte ist zum Beispiel zu sehen, wie teuer Bauland in Nordrhein-Westfalen im Jahr 2018 war.

Baureifes Land in Düsseldorf wurde im Schnitt für rund 960 Euro pro qm verkauft. Im Märkischen Kreis kostete der Quadratmeter nur rund 48 Euro.

</BodyTextAside>

<DatawrapperChart
  alt="Alt-Text"
  title=""
  src="https://datawrapper.dwcdn.net/IJwst/4/"
/>

### Mit Datenguide in zwei Schritten zur Karte

#### 1. Daten auswählen und herunterladen

Für die Karte brauchst du möglichst aktuelle Daten für alle 53 Landkreise in NRW.

<BodyTextAside>

#### So funktioniert das Datenportal

- Wähle als Region 'Nordrhein-Westfalen'
- Wähle dann die regionale Tiefe NUTS-3 aus, das gibt Dir Daten für alle Landkreise und kreisfreien Städte in NRW. Wie die Einteilung dieser Gebiete in Deutschland funktioniert, erklären wir dir hier: [NUTS erklärt](statistik-erklaert/nuts)
- Gib 'Bau' in die Suche nach Wertmerkmalen ein. Nimm 'BAU004 - Durchschnittlicher Kaufwert je qm' und ändere die Auswahl der Merkmale auf 'Baulandverkäufe'.
- Wähle an der Tabelle das Jahr '2018' aus
- Lade die Daten herunter

</BodyTextAside>

Hier zeigen wir dir den Prozess in Bildern Schritt für Schritt:

<Grid container direction="row" justify="center" spacing={2}>
  <Grid item xs={12} sm={6}>
    ![Suche Region](./tables/d_01.png)
    <small>Region auswählen</small>
  </Grid>
  <Grid item xs={12} sm={6}>
    ![Auswahl regionale Tiefe](./tables/d_02.png)
    <small>Ebene festlegen</small>
  </Grid>
  <Grid item xs={12} sm={6}>
    ![Merkmal suchen](./tables/d_02_01.png)
    <small>Merkmal suchen</small>
  </Grid>
  <Grid item xs={12} sm={6}>
    ![Merkmal wählen](./tables/d_03.png)
    <small>Merkmal auswählen</small>
  </Grid>
  <Grid item xs={12} sm={6}>
    ![Jahr wählen](./tables/d_04.png)
    <small>Jahr wählen</small>
  </Grid>
  <Grid item xs={12} sm={6}>
    ![Download](./tables/d_05.png)
    <small>Herunterladen</small>
  </Grid>
</Grid>

#### 2. Daten visualisieren

Die Daten sind jetzt bereit, um in einem Visualisierungstool deiner Wahl dargestellt zu werden. Wir machen das am Beispiel Datawrapper.

<BodyTextAside>

#### Baue deine Karte

- In Datawrapper wählst du NRW Landkreise als neue Karte aus
- fügst dann die Daten ein und wählst die entsprechenden Spalten aus (AGS und Wert). AGS steht für 'amtlicher Gemeindeschlüssel'. Datawrapper nutzt diese Gemeindekennziffer, um Daten und Gebiete eindeutig zuzuordnen. Hier findest du eine interaktive Erklärung dazu: [AGS erklärt](/statistik-erklaert/ags).
- Danach kannst du die Karte beschriften und deine Datenquelle angeben. Datenguide bietet dir dafür einen festen Api-Link. und die Karte und Tooltips, Legende etc. nach deinen Wünschen gestalten.
- Am Schluss auf 'Veröffentlichen' klicken.

</BodyTextAside>

![Import](./tables/d_06.png)

### Deutlich mehr Zwischenschritte mit Regionalstatistik.de

Um zu zeigen, wie Datenguide die Schritte zur ersten Datenvisualisierung verbessert, zeigen wir Dir denselben Workflow jetzt mal ohne Datenguide.

#### 1. Daten als .csv herunterladen

Suche auf regionalstatistik.de nach ‘Bauland’ oder direkt nach der Nummer der Tabelle: 61511-01-03-4. Lade die Daten als .csv herunter.

<Grid container direction="row" justify="center" spacing={2}>
  <Grid item xs={12} sm={6}>
    ![Suchergebnis Themen](./tables/01_suche.png)
  </Grid>
  <Grid item xs={12} sm={6}>
    ![Download](./tables/01_download.png)
  </Grid>
</Grid>

#### 2. Kopf- und Fußzeilen löschen, Kopfzeile neu beschriften

Importiere die .csv in der Tabellenkalkulation deiner Wahl (Excel, LibreOffice, GoogleSheets). Wir zeigen den Prozess am Beispiel von GoogleSheets.

<BodyTextAside>

- Achtung beim Import: Die .csv verwendet ‘;’ als Trennzeichen. Das musst du
  beim Import angeben.
- Lösche dann händisch die Zeilen über den Daten ( Header)
  und unter den Daten (Footer).
- Danach beschriftest du die erste Zeile neu und
  legst sie als Kopfzeile fest.

</BodyTextAside>

![Import](./tables/02_header.png)

#### 3. Entscheiden, was visualisiert werden soll

Vor Dir siehst du eine recht verschachtelte Tabelle. Sie ist gut geeignet, um auf DIN-A4-Seiten ausgedruckt zu werden, ein Visualisierungstool wie Datawrapper ist damit jedoch überfordert. Um eine Flächenwert-Stufen-Karte (Choroplethenkarte) zu erstellen, musst du zwei Entscheidungen treffen:

1. Welche regionale Ebene möchtest du darstellen? In diesem Fall möchten wir Kreise in Nordrhein-Westfalen zeigen.
2. Nach welchem Merkmal soll die Karte eingefärbt werden? Um Vergleichbarkeit herzustellen, möchten wir die Kreise anhand des durchschnittlichen Kaufwert je qm einfärben.

#### 4. Datentypen bereinigen

Um mit Zahlenwerten arbeiten zu können, müssen sie von der Tabellenkalkulation als ‘Nummer’ erkannt werden. Stelle dazu in Google Sheets die Verortung (locale) auf ‘Germany’ um.
Denn deutsche und amerikanische Schreibweise von Zahlen unterscheiden sich.
Dann wählst du für die Spalten ‘Insgesamt’ und ‘baureifes Land’ als Nummernformat 0.00 aus. Dadurch bekommst du Werte ohne Tausendertrennzeichen, mit zwei Stellen nach dem Komma, wie für Euro-Beträge üblich. (Das Format ist nicht für alle Verkaufsarten optimal, aber für den Kaufpreis pro qm gut geeignet.)

<Grid container direction="row" justify="center" spacing={2}>
  <Grid item xs={12} sm={6}>
    ![Import](./tables/04_settings.png)
  </Grid>
  <Grid item xs={12} sm={6}>
    ![Import](./tables/04_number_format.png)
  </Grid>
</Grid>

![Import](./tables/04_number.png)

#### 5. Regionale Ebene auswählen

Da amtliche Gemeindeschlüssel (AGS) mit einer führenden 0 beginnen, erfordert das Herausfiltern der richtigen regionalen Ebene etwas Handarbeit. Wähle alle Daten aus, deren AGS mit 05 anfangen und kopiere diese Daten in ein neues Tabellenblatt ‘NRW’. Dann lösche händisch alle Daten, deren AGS weniger als 4 Stellen lang ist. So fallen Daten für NRW gesamt und für die Regierungsbezirke raus. Übrig bleibt nur die Kreisebene.

#### 6. Pivot Tabelle: Aus long wird wide

Schaut man sich die Tabelle an, dann sieht man, dass unsere Tabelle noch nicht ganz für ein Visualisierungstool bereit ist . Denn unter ‘Verkäufe’ sind verschiedene Typen zusammengefasst, so dass es für jeden Ort vier Spalten in den Daten gibt:

![Import](./tables/06_vor_pivot.png)

Diese Form nennt man ‘long’. Solche langen Tabellen eignen sich, um viele Variablen auf engem Raum darzustellen.
Die Karte im Datawrapper stellt jedoch nur zwei Dinge dar: Flächen (Orte) werden anhand eines Wertes (Kaufpreis je qm) eingefärbt. Deshalb müssen wir dafür sorgen, dass es für ‘Kaufpreis je qm’ eine eigene Spalte gibt.

<BodyTextAside>

- Dazu klickst du unter ‘Data’ auf ‘Pivot Table’.
- Wählst dann als Rows ‘Ort’ und ‘AGS’ aus, als Columns ‘Verkauf’ und als Values ‘baureifes Land’.
- Die Daten werden entsprechend umsortiert.

</BodyTextAside>

![Import](./tables/06_pivot.png)

#### 7. Karte in Datawrapper bauen

In Datawrapper wählst du NRW Landkreise als neue Karte aus, fügst dann die Daten ein und wählst die entsprechenden Spalten aus (AGS und Durchschnittlicher Kaufwert je qm).
Danach kannst du die Karte beschriften, deine Datenquelle angeben und die Karte und Tooltips, Legende etc. nach deinen Wünschen gestalten. Am Schluss auf 'Veröffentlichen' klicken.

![Import](./tables/07_datawrapper.png)

### Zum Weiterlesen

<ArrowLink href="/statistik-erklaert/nuts">
  Wie sind statistische Regionen eingeteilt?
</ArrowLink>
<ArrowLink href="/statistik-erklaert/ags">
  Der amtliche Gemeindeschlüssel – interaktiv erklärt
</ArrowLink>
<ArrowLink href="/statistik-erklaert/dimensions">
  Was steckt in der Regionalstatistik?
</ArrowLink>

</BodyText>
</Container>
